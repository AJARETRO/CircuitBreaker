# ------------------------------
# CircuitBreaker Config
# ------------------------------

# This is the "master switch" for the plugin.
# Set to false to disable all lag detection.
enabled: true

# --- Detection Settings ---
# How many block physics events in 1 second (20 ticks)
# will trigger a "lag" warning?
# Default: 5000
lag-threshold: 5000

# How many "strikes" a chunk gets before it is frozen.
# Default: 3
strike-limit: 3

# How many minutes of no lag before a chunk's strike count is reset.
# This clears the *entire* strike list every X minutes.
# Set to -1 to disable strike resetting (not recommended).
strike-reset-minutes: 15

# --- Action Settings ---
# How long (in ticks) to "soft reset" a chunk for.
# 200 ticks = 10 seconds

soft-reset-duration-ticks: 200
# How long (in ticks) to "hard freeze" a chunk for.
# After this time, it will be automatically unfrozen.
# 6000 ticks = 5 minutes (20 * 60 * 5)
# Set to -1 to freeze chunks permanently (requires admin to unfreeze).

freeze-duration-ticks: 6000
# --- Alert Settings ---
# Send a broadcast message to all players with the 'antilag.notify'
# permission when a chunk is frozen?


notify-admins: true

# ------------------------------
# Entity Culling Settings (v2.0)
# ------------------------------
# This entire system is separate from the physics lag detector.
entity-culling:
  # Set to true to enable this new entity-culling feature.
  # This is disabled by default to prevent unexpected entity removal.
  enabled: false

  # How often (in seconds) should the plugin scan all loaded chunks?
  # This is a HEAVY task. Do not set this too low!
  # 15-30 seconds is a safe range.
  scan-interval-seconds: 15

  # How many entities must be in a *single chunk* to trigger a cull.
  # This count includes *all* entities (items, mobs, armor stands, etc.).
  threshold: 500

  # A list of entity types to *NEVER* kill.
  # (Case-insensitive, uses Bukkit's EntityType names)
  # These are just my recommendations; feel free to add/remove!
  whitelist:
    - "PLAYER"
    - "VILLAGER"
    - "IRON_GOLEM"
    - "WANDERING_TRADER"
    - "ARMOR_STAND"
    - "ITEM_FRAME"
    - "PAINTING"
    - "MINECART" # Catches all minecart types
    - "BOAT"
    - "CHEST_BOAT"
